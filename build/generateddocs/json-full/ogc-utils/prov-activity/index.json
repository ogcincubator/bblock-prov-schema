

{
  "itemIdentifier": "ogc.ogc-utils.prov-activity",
  "name": "Prov Activity",
  "highlighted": true,
  "abstract": "Sub-schema for PROV Entities",
  "status": "under-development",
  "dateTimeAddition": "2023-07-10T00:00:00Z",
  "itemClass": "schema",
  "register": "ogc-utils",
  "version": "0.1",
  "dateOfLastChange": "2025-10-16",
  "sources": [
    {
      "link": "https://www.w3.org/TR/prov-o/",
      "title": "The PROV-O vocabulary"
    }
  ],
  "maturity": "development",
  "scope": "unstable",
  "tags": [
    "prov",
    "utils"
  ],
  "shaclShapes": {},
  "dependsOn": [
    "ogc.ogc-utils.prov"
  ],
  "schema": {
    "application/yaml": "https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov-activity/schema.yaml",
    "application/json": "https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov-activity/schema.json"
  },
  "sourceSchema": "https://ogcincubator.github.io/bblock-prov-schema/_sources/prov-activity/schema.json",
  "ldContext": "https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov-activity/context.jsonld",
  "sourceFiles": "https://ogcincubator.github.io/bblock-prov-schema/_sources/prov-activity/",
  "rdfData": [],
  "validationPassed": true,
  "testOutputs": "https://github.com/ogcincubator/bblock-prov-schema/blob/master/build/tests/ogc-utils/prov-activity/",
  "description": "## Activity Object sub-schema\n\nDefines Activities and core subtypes.",
  "examples": [
    {
      "title": "Activity",
      "content": "this is a simple activity referencing some relevant document",
      "snippets": [
        {
          "language": "json",
          "ref": "../prov/examples/example-activity.json",
          "base-uri": "http://www.example.com/exampleActivity/",
          "schema-ref": "#/$defs/Activity",
          "code": "{\n  \"provType\": \"Activity\",\n  \"id\": \"someActivity_1\",\n  \"endedAtTime\": \"2029-01-01T22:05:19+02:00\",\n  \"wasAssociatedWith\": \"eg_agents:bc-3\",\n  \"used\": {\n    \"provType\": \"Entity\",\n    \"id\": \"Act3\",\n    \"wasAttributedTo\": \"eg_agents:Gov1\",\n    \"links\": [\n      {\n        \"href\": \"https://some.gov/linktoact/\",\n        \"rel\": \"related\"\n      }\n    ]\n  }\n}\n\n\n\n\n",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_1_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": [\n    {\n      \"iana\": \"http://www.iana.org/assignments/\"\n    },\n    \"https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov-activity/context.jsonld\"\n  ],\n  \"provType\": \"Activity\",\n  \"id\": \"someActivity_1\",\n  \"endedAtTime\": \"2029-01-01T22:05:19+02:00\",\n  \"wasAssociatedWith\": \"eg_agents:bc-3\",\n  \"used\": {\n    \"provType\": \"Entity\",\n    \"id\": \"Act3\",\n    \"wasAttributedTo\": \"eg_agents:Gov1\",\n    \"links\": [\n      {\n        \"href\": \"https://some.gov/linktoact/\",\n        \"rel\": \"related\"\n      }\n    ]\n  }\n}",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_1_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix iana: <http://www.iana.org/assignments/> .\n@prefix oa: <http://www.w3.org/ns/oa#> .\n@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n<http://www.example.com/exampleActivity/someActivity_1> a prov:Activity ;\n    prov:endedAtTime \"2029-01-01T22:05:19+02:00\"^^xsd:dateTime ;\n    prov:used <http://www.example.com/exampleActivity/Act3> ;\n    prov:wasAssociatedWith <http://www.example.com/exampleActivity/eg_agents:bc-3> .\n\n<http://www.example.com/exampleActivity/Act3> a prov:Entity ;\n    rdfs:seeAlso [ iana:relation <http://www.iana.org/assignments/relation/related> ;\n            oa:hasTarget <https://some.gov/linktoact/> ] ;\n    prov:wasAttributedTo <http://www.example.com/exampleActivity/eg_agents:Gov1> .\n\n",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_1_1.ttl"
        }
      ],
      "prefixes": {
        "iana": "http://www.iana.org/assignments/"
      }
    },
    {
      "title": "Workflow (using LLM) Example",
      "content": "A provenance chain for a workflow using a Large Language Model to interpret a query and and a geospatial data source.\n\nThis is a fairly trivial example not attempting to standardise descriptions of such workflows, which would be an obvious profile for this model.",
      "snippets": [
        {
          "language": "json",
          "ref": "../prov/examples/example-llm.json",
          "base-uri": "http://www.example.com/exampleEntity/",
          "code": "{\n    \"prov:type\": \"prov:Activity\",\n    \"generated\": {\n        \"id\": \"output\",\n        \"type\": \"Entity\",\n        \"AgentType\": \"SoftwareAgent\",\n        \"response\": [\n            {\n                \"id\": \"LLM Generated Code\",\n                \"type\": \"Entity\",\n                \"wasGeneratedBy\": \"gemini-1.5-pro-001\",\n                \"data\": \"gdf.to_crs(epsg=7856).set_index('name').loc['UNSW Village'].geometry.distance(gdf.to_crs(epsg=7856)[gdf.amenity == 'hospital'].geometry).min()\"\n            },\n            {\n                \"id\": \"Code Output\",\n                \"type\": \"Entity\",\n                \"data\": \"511.8048618048641\"\n            },\n            {\n                \"id\": \"Final Output\",\n                \"type\": \"Entity\",\n                \"wasGeneratedBy\": \"gemini-1.5-flash-001\",\n                \"data\": \"The closest hospital to UNSW Village is approximately 512 meters away.\"\n            }\n        ]\n    },\n    \"startedAtTime\": \"2024-11-19T05:07:22.927913Z\",\n    \"endedAtTime\": \"2024-11-19T05:07:34.304708Z\",\n    \"used\": [\n        {\n            \"id\": \"file\",\n            \"type\": \"Entity\",\n            \"data\": [\n                {\n                    \"id\": \"osmdata.shp\",\n                    \"type\": \"Entity\",\n                    \"records\": 3544\n                }\n            ]\n        },\n        {\n            \"id\": \"user_input\",\n            \"prov:type\": \"Entity\",\n            \"input\": \"How far away is the closest hospital from UNSW village\"\n        }\n    ]\n}",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_2_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": [\n    {\n      \"iana\": \"http://www.iana.org/assignments/\"\n    },\n    \"https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov-activity/context.jsonld\"\n  ],\n  \"prov:type\": \"prov:Activity\",\n  \"generated\": {\n    \"id\": \"output\",\n    \"type\": \"Entity\",\n    \"AgentType\": \"SoftwareAgent\",\n    \"response\": [\n      {\n        \"id\": \"LLM Generated Code\",\n        \"type\": \"Entity\",\n        \"wasGeneratedBy\": \"gemini-1.5-pro-001\",\n        \"data\": \"gdf.to_crs(epsg=7856).set_index('name').loc['UNSW Village'].geometry.distance(gdf.to_crs(epsg=7856)[gdf.amenity == 'hospital'].geometry).min()\"\n      },\n      {\n        \"id\": \"Code Output\",\n        \"type\": \"Entity\",\n        \"data\": \"511.8048618048641\"\n      },\n      {\n        \"id\": \"Final Output\",\n        \"type\": \"Entity\",\n        \"wasGeneratedBy\": \"gemini-1.5-flash-001\",\n        \"data\": \"The closest hospital to UNSW Village is approximately 512 meters away.\"\n      }\n    ]\n  },\n  \"startedAtTime\": \"2024-11-19T05:07:22.927913Z\",\n  \"endedAtTime\": \"2024-11-19T05:07:34.304708Z\",\n  \"used\": [\n    {\n      \"id\": \"file\",\n      \"type\": \"Entity\",\n      \"data\": [\n        {\n          \"id\": \"osmdata.shp\",\n          \"type\": \"Entity\",\n          \"records\": 3544\n        }\n      ]\n    },\n    {\n      \"id\": \"user_input\",\n      \"prov:type\": \"Entity\",\n      \"input\": \"How far away is the closest hospital from UNSW village\"\n    }\n  ]\n}",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_2_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix dcterms: <http://purl.org/dc/terms/> .\n@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n<http://www.example.com/exampleEntity/file> dcterms:type \"Entity\" .\n\n<http://www.example.com/exampleEntity/output> dcterms:type \"Entity\" .\n\n<http://www.example.com/exampleEntity/user_input> prov:type \"Entity\" .\n\n[] prov:endedAtTime \"2024-11-19T05:07:34.304708+00:00\"^^xsd:dateTime ;\n    prov:generated <http://www.example.com/exampleEntity/output> ;\n    prov:startedAtTime \"2024-11-19T05:07:22.927913+00:00\"^^xsd:dateTime ;\n    prov:type \"prov:Activity\" ;\n    prov:used <http://www.example.com/exampleEntity/file>,\n        <http://www.example.com/exampleEntity/user_input> .\n\n",
          "url": "https://ogcincubator.github.io/bblock-prov-schema/build/tests/ogc-utils/prov-activity/example_2_1.ttl"
        }
      ],
      "prefixes": {
        "iana": "http://www.iana.org/assignments/"
      }
    }
  ],
  "examplePrefixes": {
    "iana": "http://www.iana.org/assignments/"
  },
  "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ndescription: PROV Activity object schema\n$defs:\n  dateTime:\n    type: string\n    format: date-time\n    pattern: ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|[+-]\\d{2}:\\d{2})?$\n  ActivityTypes:\n    oneOf:\n    - type: string\n      enum:\n      - Activity\n      - prov:Activity\n    - type: array\n      contains:\n        type: string\n        enum:\n        - Activity\n        - prov:Activity\n      items:\n        type: string\n  Activity:\n    $anchor: Activity\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        $ref: '#/$defs/ActivityTypes'\n      activityType:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreObjectref\n      prov:type:\n        $ref: '#/$defs/ActivityTypes'\n      endedAtTime:\n        $ref: '#/$defs/dateTime'\n      wasAssociatedWith:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreAgentsOrRefIds\n      wasInformedBy:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreActivitiesOrRefIds\n      used:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n      wasStartedBy:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n      wasEndedBy:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n      invalidated:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n      generated:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n      atLocation:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      qualifiedUsage:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Usage'\n        - type: array\n          items:\n            oneOf:\n            - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n            - $ref: '#/$defs/Usage'\n      qualifiedCommunication:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Communication'\n        - type: array\n          items:\n            oneOf:\n            - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n            - $ref: '#/$defs/Generation'\n      qualifiedStart:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Start'\n      qualifiedEnd:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/End'\n      qualifiedAssociation:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Association\n        - type: array\n          items:\n            oneOf:\n            - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n            - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Association\n    anyOf:\n    - required:\n      - activityType\n    - required:\n      - prov:type\n    - required:\n      - type\n    - required:\n      - used\n    - required:\n      - wasInformedBy\n    - required:\n      - endedAtTime\n    - required:\n      - startedAtTime\n    - required:\n      - wasAssociatedWith\n    allOf:\n    - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#influenced\n  Usage:\n    $anchor: Usage\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        oneOf:\n        - type: string\n          enum:\n          - prov:Usage\n          - Usage\n        - type: array\n          contains:\n            type: string\n            enum:\n            - prov:Usage\n            - Usage\n          items:\n            type: string\n      atTime:\n        $ref: '#/$defs/dateTime'\n      entity:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreEntitiesOrRefIds\n    required:\n    - entity\n  ActivityInfluence:\n    $anchor: ActivityInfluence\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      atTime:\n        $ref: '#/$defs/dateTime'\n      hadRole:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreObjectref\n      influencer:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreObjectref\n      hadActivity:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreActivitiesOrRefIds\n      activity:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#oneOrMoreActivitiesOrRefIds\n  Generation:\n    $anchor: Generation\n    allOf:\n    - $ref: '#/$defs/ActivityInfluence'\n    - type: object\n      properties:\n        type:\n          oneOf:\n          - type: string\n            const: Generation\n          - type: array\n            contains:\n              type: string\n              const: Generation\n            items:\n              type: string\n      required:\n      - type\n  Invalidation:\n    $anchor: Invalidation\n    allOf:\n    - $ref: '#/$defs/ActivityInfluence'\n    - type: object\n      properties:\n        type:\n          oneOf:\n          - type: string\n            const: Invalidation\n          - type: array\n            contains:\n              type: string\n              const: Invalidation\n            items:\n              type: string\n      required:\n      - type\n  Communication:\n    $anchor: Communication\n    allOf:\n    - $ref: '#/$defs/ActivityInfluence'\n    - type: object\n      properties:\n        type:\n          oneOf:\n          - type: string\n            const: Communication\n          - type: array\n            contains:\n              type: string\n              const: Communication\n            items:\n              type: string\n      required:\n      - type\n  Derivation:\n    $anchor: Derivation\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        oneOf:\n        - type: string\n          const: Derivation\n        - type: array\n          contains:\n            type: string\n            const: Derivation\n          items:\n            type: string\n      hadGeneration:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Generation'\n      hadActivity:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Activity'\n      hadUsage:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Usage'\n      entity:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Entity\n    required:\n    - atTime\n    - entity\n  Delegation:\n    $anchor: Delegation\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        oneOf:\n        - type: string\n          const: Delegation\n        - type: array\n          contains:\n            type: string\n            const: Delegation\n          items:\n            type: string\n      agent:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Agent\n      hadActivity:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Activity'\n  Attribution:\n    $anchor: Attribution\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        oneOf:\n        - type: string\n          const: Attribution\n        - type: array\n          contains:\n            type: string\n            const: Attribution\n          items:\n            type: string\n      agent:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Agent\n  StartOrEnd:\n    type: object\n    properties:\n      id:\n        $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n      type:\n        oneOf:\n        - type: string\n        - type: array\n          items:\n            type: string\n      atTime:\n        $ref: '#/$defs/dateTime'\n      entity:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#Entity\n      hadActivity:\n        oneOf:\n        - $ref: https://ogcincubator.github.io/bblock-prov-schema/build/annotated/ogc-utils/prov/schema.yaml#objectref\n        - $ref: '#/$defs/Activity'\n    required:\n    - atTime\n  Start:\n    allOf:\n    - $ref: '#/$defs/StartOrEnd'\n    - properties:\n        type:\n          anyOf:\n          - const: Start\n          - contains:\n              const: Start\n  End:\n    allOf:\n    - $ref: '#/$defs/StartOrEnd'\n    - properties:\n        type:\n          anyOf:\n          - const: End\n          - contains:\n              const: End\nanyOf:\n- $ref: '#/$defs/Activity'\n",
  "gitRepository": "https://github.com/ogcincubator/bblock-prov-schema",
  "gitPath": "_sources/prov-activity"
}